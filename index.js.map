{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["\nexport const fetchImages = async (query) => {\n    const API_KEY = '48427757-fc949e79797ba7e940d238484'; \n    const url = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n    const response = await fetch(url);\n    if (!response.ok) {\n        throw new Error('API request failed');\n    }\n    const data = await response.json();\n    return data.hits;\n    } catch (error) {\n    console.error(error);\n    throw new Error('An error occurred while fetching images');\n    }\n};","\n\nexport const createGalleryCardTemplate = (imgInfo) => {\n    return `\n    <li class=\"gallery-item\">\n        <a href=\"${imgInfo.largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" />\n        </a>\n        <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${imgInfo.likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${imgInfo.views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${imgInfo.comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${imgInfo.downloads}</p>\n        </div>\n    </li>\n    `;\n};\n\nexport const renderGallery = (images) => {\n    const galleryEl = document.querySelector('.js-gallery');\n    const galleryTemplate = images.map((imgInfo) => createGalleryCardTemplate(imgInfo)).join('');\n    galleryEl.innerHTML = galleryTemplate;\n}\n\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-function.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\n\nconst onSearchFormSubmit = async (event) => {\n    event.preventDefault();\n\n    const searchQuery = event.currentTarget.elements.query.value.trim();\n    if (searchQuery === '') {\n    iziToast.error({ title: 'Error', message: 'Please enter a search term' });\n    return;\n    }\n\n    galleryEl.innerHTML = '';\n\n    try {\n    \n    const loader = document.querySelector('.loader');\n    loader.classList.remove('hidden');\n\n    const images = await fetchImages(searchQuery);\n    \n    \n    if (images.length === 0) {\n        iziToast.info({ title: 'No results', message: 'No images found. Please try again.' });\n        return;\n    }\n\n    \n    renderGallery(images);\n    } catch (error) {\n    iziToast.error({ title: 'Error', message: 'Something went wrong!' });\n    } finally {\n    \n    const loader = document.querySelector('.loader');\n    loader.classList.add('hidden');\n    }\n    const lightbox = new SimpleLightbox('.js-gallery a');\n    lightbox.refresh();\n};\n\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["fetchImages","query","url","response","error","createGalleryCardTemplate","imgInfo","renderGallery","images","galleryEl","galleryTemplate","searchFormEl","onSearchFormSubmit","event","searchQuery","iziToast","SimpleLightbox"],"mappings":"6vBACO,MAAMA,EAAc,MAAOC,GAAU,CAExC,MAAMC,EAAM,qEAA6CD,CAAK,2DAE9D,GAAI,CACJ,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,oBAAoB,EAGxC,OADa,MAAMA,EAAS,QAChB,IACX,OAAQC,EAAO,CAChB,cAAQ,MAAMA,CAAK,EACb,IAAI,MAAM,yCAAyC,CACxD,CACL,ECdaC,EAA6BC,GAC/B;AAAA;AAAA,mBAEQA,EAAQ,aAAa;AAAA,wCACAA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,6CAGrCA,EAAQ,KAAK;AAAA,6CACbA,EAAQ,KAAK;AAAA,gDACVA,EAAQ,QAAQ;AAAA,iDACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,MAMrDC,EAAiBC,GAAW,CACrC,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAkBF,EAAO,IAAKF,GAAYD,EAA0BC,CAAO,CAAC,EAAE,KAAK,EAAE,EAC3FG,EAAU,UAAYC,CAC1B,ECfMC,EAAe,SAAS,cAAc,iBAAiB,EACvDF,EAAY,SAAS,cAAc,aAAa,EAGhDG,EAAqB,MAAOC,GAAU,CACxCA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,MAAM,MAAM,OAC7D,GAAIC,IAAgB,GAAI,CACxBC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,4BAA4B,CAAE,EACxE,MACC,CAEDN,EAAU,UAAY,GAEtB,GAAI,CAEW,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,EAEhC,MAAMD,EAAS,MAAMR,EAAYc,CAAW,EAG5C,GAAIN,EAAO,SAAW,EAAG,CACrBO,EAAS,KAAK,CAAE,MAAO,aAAc,QAAS,oCAAoC,CAAE,EACpF,MACH,CAGDR,EAAcC,CAAM,CACnB,MAAe,CAChBO,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,uBAAuB,CAAE,CACvE,QAAc,CAEK,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CAC5B,CACgB,IAAIC,EAAe,eAAe,EAC1C,QAAO,CACpB,EAGAL,EAAa,iBAAiB,SAAUC,CAAkB"}